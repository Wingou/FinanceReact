type Query {
  categories: [CatGql!]
  objects(where: ObjectsWhereInput): [ObjGql!]
  years: [YearGql!]
  pricesByDates(where: PricesByDatesWhereInput!): [PriceGql!]
  priceById(where: PriceByIdWhereInput!): [PriceGql!]
  lastPrices : [PriceGql!]
  priceCheck(where: PriceCheckWhereInput) : [PriceGql!]
}

type Mutation {
  addPrice (insert : AddPriceInsertInput!):PriceGql!,
  modifPrice (update: ModifPriceUpdateInput!):PriceGql!
  addObject (insert : AddObjectInsertInput!):ObjGql!,
  modifObject (update : ModifObjectInput!):ObjGql!,
  addCategory (insert : AddCategoryInsertInput!):CatGql!,
  modifCategory (update : ModifCategoryInput!):CatGql!,
}

type CatGql {
  id: ID!
  name: String!
  position: Int!
  template: Int!
  nbChild: Int!
}

type ObjGql {
  id: ID!
  name: String!
  template: Int!
  cat: ObjCatGql!
  nbChild : Int!  
}

type ObjCatGql {
  id: ID!
}

input ObjectsWhereInput {
  id: ID
  catId: ID
}

type YearGql {
  name: String!
}

type PriceGql {
  id: ID!
  amount: String!
  comment: String
  actionDate: String!
  dateCreate: String!
  dateModif: String!
  template: Int!
  obj: PriceObjGql!
  cat: PriceCatGql!
}

type PriceObjGql {
  id: ID!
  name: String!
  template: Int!
}

type PriceCatGql {
  id: ID!
  name: String!
  position: Int!
  template: Int!
}

input PricesByDatesWhereInput {
  years: String!
  months: String!
}

input PriceByIdWhereInput {
  id: ID!
}

input PriceCheckWhereInput {
    amount : String!,
    actionDate : String!,
    objId : ID!
}

input AddPriceInsertInput  {
  amount: String!
  comment: String!
  actionDate: String!
  objId: String!
}

input ModifPriceUpdateInput  {
  id: ID!
  amount: String!
  comment: String!
  actionDate: String!
  objId: String!
  template: String!
}




mutation AddPrice($insert: AddPriceInsertInput!) {
  addPrice(insert: $insert) {
    id
    amount
    comment
    actionDate
    obj {
      id
      name
    }
    cat {
      id
      name
    }
  }
}


mutation ModifPrice(  $update: ModifPriceUpdateInput!) {
  modifPrice( update: $update) {
    id
    amount
    comment
    actionDate
    obj {
      id
      name
    }
    cat {
      id
      name
    }
  }
}

input AddObjectInsertInput  {
  objName: String!
  catId: String!
}

input ModifObjectInput  {
  objName: String!
  template: String!
  id : String!
}

input AddCategoryInsertInput  {
  catName: String!
}

input ModifCategoryInput {
  catName : String!
  template: String!
  position:String!
  id:ID!
}